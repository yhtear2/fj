<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"  
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="FJ_BOARD"> 
	<select id="getCount"> 
		select count(*) from fj_board_free 
	</select> 

	<insert id="insertArticle">
		insert into fj_board_free( board_num, email, subject, content, hstag, re_count, scrap_count, recom_count, bad_count, read_count,
			re_step, category, reg_date) values(fj_board_free_seq.NEXTVAL, #{email, jdbcType=VARCHAR}, #{subject}, #{content}, #{hstag, jdbcType=VARCHAR}, #{re_count}, 
			#{scrap_count}, #{recom_count}, #{bad_count}, #{read_count}, #{re_step}, #{category}, #{reg_date})  
	</insert>
	  
	<update id="updateArticle" parameterType="dto.board.BoardDataBean">
		update FJ_BOARD_FREE set category=#{category}, subject=#{subject}, hstag=#{hstag}, content=#{content} where board_num=#{board_num} 
	</update>  
	
	<select id="getMaxNum" resultType="Integer">
		select max(board_num) from fj_board_free 
	</select>
	
	<select id="getArticle" resultType="dto.board.BoardDataBean" parameterType="Integer">
		select * from fj_board_free where board_num=#{board_num}
	</select>
	
	<!--  &gt 는 크기표시 > 의 greate less than, &lg 는 크기표시 < 의 less than -->
	<!-- rownum rn 은 정렬상태의 DB검색 결과중, 일정부분을 가져오게 한다.  --> 
	<!-- order by 컬럼명 asc | desc -->  <!-- asc : 오름차순 / desc : 내림차순 -->
	<select id="getArticles" resultType="dto.board.BoardDataBean" parameterType="Map"> 	 
		select board_num, email, subject, content, hstag, re_count, scrap_count, recom_count, bad_count, read_count, re_step, category, reg_date,
			rn from (select board_num, email, subject, content, hstag, re_count, scrap_count, recom_count, bad_count, read_count, re_step, category, reg_date, rownum 
			rn from (select board_num, email, subject, content, hstag, re_count, scrap_count, recom_count, bad_count, read_count, re_step, category, reg_date from board order by re_step asc)
			order by re_step asc) where rn &gt; = #{start} and rn &lt; = #{end} 
	</select>
</mapper>	








